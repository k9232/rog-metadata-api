# ROG NFT API - é‘„é€ ç³»çµ± API æ–‡æª”

API Docs: https://rog-api.onrender.com/api-docs

## API ç«¯é»ä»‹ç´¹

### 1. **é‘„é€ é…ç½® API** - `/api/mint/config`

**åŠŸèƒ½ï¼š** ç²å– NFT é‘„é€ åˆç´„åƒæ•¸

**è«‹æ±‚æ–¹å¼ï¼š** `GET`

**å®Œæ•´ URLï¼š** [https://rog-api.onrender.com/api/mint/config](https://rog-api.onrender.com/api/mint/config)

**å›å‚³è³‡æ–™ï¼š**
```json
{
  "success": true,
  "data": {
    "chainId": 11155111,                    // å€å¡Šéˆç¶²è·¯ ID (Sepolia æ¸¬è©¦ç¶²)
    "nftAddress": "0x7c8614E7F475A95FB9362e8709B7623B556E0603",  // NFT åˆç´„åœ°å€
    "soulboundStartTime": "2025-08-25T06:00:00.000Z",            // Soulbound é‘„é€ é–‹å§‹æ™‚é–“
    "soulboundEndTime": "2025-08-25T08:00:00.000Z",              // Soulbound é‘„é€ çµæŸæ™‚é–“ (2å°æ™‚å¾Œ)
    "publicStartTime": "2025-08-25T10:00:00.000Z",               // å…¬é–‹é‘„é€ é–‹å§‹æ™‚é–“ (4å°æ™‚å¾Œ)
    "mintPrice": "0"                                              // é‘„é€ åƒ¹æ ¼ (å…è²»)
  }
}
```

**ç”¨é€”ï¼š** å‰ç«¯æ‡‰ç”¨ç¨‹å¼å¯ä»¥é€éé€™å€‹ API ç²å–é‘„é€ æ´»å‹•çš„æ™‚é–“å®‰æ’å’Œåˆç´„è³‡è¨Šï¼Œç”¨æ–¼é¡¯ç¤ºå€’è¨ˆæ™‚ã€æ§åˆ¶é‘„é€ æŒ‰éˆ•çš„å•Ÿç”¨ç‹€æ…‹ç­‰ã€‚

---

### 2. **Soulbound æŒæœ‰è€…é‘„é€ è³‡è¨Š API** - `/api/mint/soulbound/{address}`

**åŠŸèƒ½ï¼š** æŸ¥è©¢ç‰¹å®šéŒ¢åŒ…åœ°å€çš„ Phase2 æŒæœ‰è€…é‘„é€ è³‡è¨Š

**è«‹æ±‚æ–¹å¼ï¼š** `GET`

**åƒæ•¸ï¼š**
- `address`: ä»¥å¤ªåŠéŒ¢åŒ…åœ°å€ (ä¾‹å¦‚: `0x7950DEc0fCF39dD4Ed748f78d48Eeabc0f1b9eda`)

**å®Œæ•´ URL ç¯„ä¾‹ï¼š** `https://rog-metadata-api.onrender.com/api/mint/soulbound/0x7950DEc0fCF39dD4Ed748f78d48Eeabc0f1b9eda`

**æˆåŠŸå›å‚³ (200)ï¼š**
```json
{
  "success": true,
  "data": {
    "id": 1,                                    // è³‡æ–™åº«è¨˜éŒ„ ID
    "userAddress": "0x7950DEc0fCF39dD4Ed748f78d48Eeabc0f1b9eda",  // éŒ¢åŒ…åœ°å€
    "signature": "0x...",                       // é‘„é€ ç°½å (å¯èƒ½ç‚º null)
    "boxTypeId": 1,                             // ç›²ç›’é¡å‹ ID (0=é‡‘ç›’, 1=ç´…ç›’, 2=è—ç›’)
    "tokenId": 1,                               // phase2 æŒæœ‰è€…é‘„é€ çš„ tokenId
    "createdAt": "2024-01-15T10:30:00.000Z"     // è¨˜éŒ„å»ºç«‹æ™‚é–“
  }
}
```

**å¤±æ•—å›å‚³ (404)ï¼š**
```json
{
  "success": false,
  "error": "No signatures found for this Phase2 holder"
}
```

**ç”¨é€”ï¼š** 
- é©—è­‰ç”¨æˆ¶æ˜¯å¦ç‚º Phase2 æŒæœ‰è€…
- ç²å–é‘„é€ æ‰€éœ€çš„ç°½åè³‡è¨Š
- ç¢ºèªç”¨æˆ¶å¯ä»¥é‘„é€ çš„ç›²ç›’é¡å‹

---

### 3. **NFT è³‡è¨Š API** - `/api/nft`

**åŠŸèƒ½ï¼š** ç²å– NFT æ”¶è—å“çš„çµ±è¨ˆè³‡è¨Š

**è«‹æ±‚æ–¹å¼ï¼š** `GET`

**å®Œæ•´ URLï¼š** [https://rog-api.onrender.com/api/nft](https://rog-api.onrender.com/api/nft)

**å›å‚³è³‡æ–™ï¼š**
```json
{
  "success": true,
  "data": {
    "totalSupply": 1,                        // ç›®å‰å·²é‘„é€ çš„ NFT æ•¸é‡
    "maxSupply": 6020                           // æœ€å¤§ä¾›æ‡‰é‡
  }
}
```

**éŒ¯èª¤å›å‚³ (500)ï¼š**
```json
{
  "error": "Internal server error"
}
```

**ç”¨é€”ï¼š** 
- é¡¯ç¤ºæ”¶è—å“çš„é‘„é€ é€²åº¦
- è¨ˆç®—å‰©é¤˜å¯é‘„é€ æ•¸é‡
- æä¾›æ”¶è—å“ç¨€æœ‰åº¦åƒè€ƒè³‡è¨Š

---

## ğŸ”§ Testnet

- **ç¶²è·¯**: Sepolia æ¸¬è©¦ç¶² (Chain ID: 11155111)
- **NFT åˆç´„**: `0x7c8614E7F475A95FB9362e8709B7623B556E0603`
- **é‘„é€ åƒ¹æ ¼**: å…è²» (0 ETH)
- **API åŸºç¤ URL**: `https://rog-api.onrender.com`

### é‘„é€ éšæ®µæ™‚é–“è¡¨

1. **Soulbound éšæ®µ** (Phase2 æŒæœ‰è€…å°ˆå±¬)
   - é–‹å§‹æ™‚é–“ï¼š2025-08-25 06:00:00 UTC
   - çµæŸæ™‚é–“ï¼š2025-08-25 08:00:00 UTC
   - æŒçºŒæ™‚é–“ï¼š2å°æ™‚

2. **å…¬é–‹é‘„é€ éšæ®µ**
   - é–‹å§‹æ™‚é–“ï¼š2025-08-25 10:00:00 UTC
   - æŒçºŒæ™‚é–“ï¼šç„¡é™åˆ¶

### ç›²ç›’é¡å‹

- **0**: é‡‘ç›’
- **1**: ç´…ç›’  
- **2**: è—ç›’

### å®‰å…¨æ©Ÿåˆ¶

ç³»çµ±æœƒç‚º Phase2 æŒæœ‰è€…ç”Ÿæˆç‰¹æ®Šçš„é‘„é€ ç°½åï¼Œç¢ºä¿åªæœ‰æˆæ¬Šç”¨æˆ¶èƒ½åœ¨ Soulbound éšæ®µé€²è¡Œé‘„é€ ã€‚ç°½ååŒ…å«ç”¨æˆ¶åœ°å€ã€Token ID å’Œç›²ç›’é¡å‹ç­‰è³‡è¨Šï¼Œé˜²æ­¢æœªæˆæ¬Šçš„é‘„é€ è¡Œç‚ºã€‚

---

### 4. **å–å¾—æ­ç¤ºè¨Šæ¯ API** - `/metadata/reveal/message`

**åŠŸèƒ½ï¼š** ç”¢ç”Ÿç”¨æ–¼ NFT æ­ç¤ºçš„ç°½åè¨Šæ¯

**è«‹æ±‚æ–¹å¼ï¼š** `GET`

**åƒæ•¸ï¼š**
- `tokenId`: NFT çš„ Token ID (ä¾‹å¦‚: `1`)
- `ownerAddress`: è²ç¨±æ“æœ‰è©² NFT çš„éŒ¢åŒ…åœ°å€ (ä¾‹å¦‚: `0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6`)

**å®Œæ•´ URL ç¯„ä¾‹ï¼š** `https://rog-api.onrender.com/metadata/reveal/message?tokenId=1&ownerAddress=0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6`

**æˆåŠŸå›å‚³ (200)ï¼š**
```json
{
  "success": true,
  "data": {
    "message": "Reveal token 1 by 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6"
  }
}
```

**éŒ¯èª¤å›å‚³ï¼š**
- **400** - ç„¡æ•ˆçš„ Token ID æˆ–åœ°å€æ ¼å¼
- **403** - è©²åœ°å€ä¸æ˜¯ Token çš„æ“æœ‰è€… (ç›®å‰å·²è¨»è§£ï¼Œä¸æœƒæª¢æŸ¥)
- **404** - Token ä¸å­˜åœ¨
- **500** - ä¼ºæœå™¨å…§éƒ¨éŒ¯èª¤

**ç”¨é€”ï¼š** 
- åœ¨æ­ç¤º NFT å‰ï¼Œå…ˆå–å¾—éœ€è¦ç°½åçš„è¨Šæ¯
- ä½¿ç”¨è€…ç”¨éŒ¢åŒ…ç°½ç½²æ­¤è¨Šæ¯å¾Œï¼Œå¯è­‰æ˜è‡ªå·±æ˜¯ Token çš„æ“æœ‰è€…
- é…åˆä¸‹ä¸€å€‹ API ä½¿ç”¨ï¼Œå®Œæˆ NFT æ­ç¤ºæµç¨‹

---

### 5. **æ­ç¤º NFT API** - `/metadata/reveal/{tokenId}`

**åŠŸèƒ½ï¼š** ä½¿ç”¨ç°½åé©—è­‰å¾Œæ­ç¤º NFT çš„çœŸå¯¦å…§å®¹

**è«‹æ±‚æ–¹å¼ï¼š** `GET`

**åƒæ•¸ï¼š**
- `tokenId` (è·¯å¾‘åƒæ•¸): NFT çš„ Token ID (ä¾‹å¦‚: `1`)
- `message` (æŸ¥è©¢åƒæ•¸): å¾ä¸Šä¸€å€‹ API å–å¾—çš„è¨Šæ¯
- `signature` (æŸ¥è©¢åƒæ•¸): ä½¿ç”¨è€…ç”¨éŒ¢åŒ…ç°½ç½²è¨Šæ¯å¾Œç”¢ç”Ÿçš„ç°½å (ä¾‹å¦‚: `0x...`)

**å®Œæ•´ URL ç¯„ä¾‹ï¼š** `https://rog-api.onrender.com/metadata/reveal/1?message=Reveal%20token%201&signature=0x...`

**ç›®å‰ç‹€æ…‹ï¼š** âš ï¸ å°šæœªå¯¦ä½œ

**é æœŸç”¨é€”ï¼š**
- é©—è­‰ç°½åç¢ºèªä½¿ç”¨è€…æ˜¯ Token æ“æœ‰è€…
- å°‡ç›²ç›’ NFT æ­ç¤ºç‚ºçœŸå¯¦çš„ NFT å…§å®¹
- æ›´æ–°è³‡æ–™åº«ä¸­çš„ NFT è³‡è¨Š

**æ­ç¤ºæµç¨‹èªªæ˜ï¼š**
```
æ­¥é©Ÿ 1: å‘¼å« /metadata/reveal/message API å–å¾—ç°½åè¨Šæ¯
    â†“
æ­¥é©Ÿ 2: ä½¿ç”¨è€…ç”¨éŒ¢åŒ… (MetaMask ç­‰) ç°½ç½²è©²è¨Šæ¯
    â†“
æ­¥é©Ÿ 3: å‘¼å« /metadata/reveal/:tokenId API ä¸¦å¸¶å…¥ç°½å
    â†“
æ­¥é©Ÿ 4: ç³»çµ±é©—è­‰ç°½åä¸¦æ­ç¤º NFT çœŸå¯¦å…§å®¹
```

---
<!-- TODO:  -->